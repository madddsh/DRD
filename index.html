<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday –î–∞—à–∫–∞!</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4, #ffecd2, #fcb69f);
            background-size: 300% 300%;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation: gradient 15s ease infinite;
            -webkit-tap-highlight-color: transparent;
        }

        @keyframes gradient {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }

        .container {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
            max-width: 85%;
            margin: 20px;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        h1 {
            color: #d23669;
            font-size: 28px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            font-weight: 600;
        }

        .message {
            font-size: 16px;
            line-height: 1.5;
            color: #333;
            text-align: left;
            margin-top: 15px;
            position: relative;
            z-index: 1;
        }

        .photo-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .background-photo {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.5s, transform 0.5s;
        }

        .background-photo.show {
            opacity: 0.8;
            transform: scale(1);
        }

        /* –®–∞—Ä–∏–∫–∏ */
        .balloon {
            position: absolute;
            width: 40px;
            height: 50px;
            border-radius: 50%;
            animation: float linear infinite;
            bottom: -100px;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.2));
            z-index: 1;
        }

        .balloon::before {
            content: '';
            position: absolute;
            width: 2px;
            height: 60px;
            background: rgba(0,0,0,0.1);
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%);
        }

        @keyframes float {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-150vh);
                opacity: 0;
            }
        }

        /* –ö—É—Ä—Å–æ—Ä –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ */
        .typed-cursor {
            opacity: 1;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è iPhone 15/16 Pro */
        @media only screen and (max-width: 430px) {
            h1 {
                font-size: 24px;
            }
            .message {
                font-size: 15px;
            }
            .container {
                padding: 20px;
                max-width: 90%;
            }
            .background-photo {
                width: 70px;
                height: 70px;
            }
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π -->
    <div class="photo-background" id="photo-background"></div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —à–∞—Ä–∏–∫–æ–≤ -->
    <div id="balloons-container"></div>

    <div class="container" id="main-container">
        <h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∞—à–∫–∞! üéâ</h1>
        <div id="message" class="message"></div>
    </div>

    <script>
        // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
        const photos = [
            'photo_2025-07-13_17-54-46.jpg',
            'photo_2025-07-13_17-55-02.jpg',
            'photo_2025-07-13_17-55-09.jpg',
            'photo_2025-07-13_17-55-15.jpg',
            'photo_2025-07-13_17-55-21.jpg',
            'photo_2025-07-13_17-55-25.jpg',
            'photo_2025-07-13_17-55-29.jpg',
            'photo_2025-07-13_17-55-39.jpg',
            'photo_2025-07-13_17-55-49.jpg',
            'photo_2025-07-13_17-56-14.jpg'
        ];

        // –°–æ–∑–¥–∞–µ–º —à–∞—Ä–∏–∫–∏
        function createBalloons() {
            const colors = ['#ff6b81', '#ff4757', '#ff6348', '#ffa502', '#e84393', '#fd79a8'];
            const container = document.getElementById('balloons-container');
            const balloonCount = 25;

            for (let i = 0; i < balloonCount; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';

                balloon.style.left = Math.random() * 100 + 'vw';
                balloon.style.background = colors[Math.floor(Math.random() * colors.length)];
                balloon.style.animationDuration = (8 + Math.random() * 12) + 's';
                balloon.style.animationDelay = Math.random() * 5 + 's';
                balloon.style.width = (30 + Math.random() * 30) + 'px';
                balloon.style.height = (40 + Math.random() * 30) + 'px';

                container.appendChild(balloon);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –ª–∏ —Ñ–æ—Ç–æ –≤ –æ–±–ª–∞—Å—Ç—å —Ç–µ–∫—Å—Ç–∞
        function isPositionValid(x, y, containerRect) {
            const padding = 20; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
            return !(
                x > containerRect.left - padding &&
                x < containerRect.right + padding &&
                y > containerRect.top - padding &&
                y < containerRect.bottom + padding
            );
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
        function showRandomPhoto() {
            const background = document.getElementById('photo-background');
            const container = document.getElementById('main-container');
            const containerRect = container.getBoundingClientRect();

            let attempts = 0;
            const maxAttempts = 10;
            let posX, posY;

            // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –ø–æ–∑–∏—Ü–∏—é –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞
            do {
                posX = Math.random() * (window.innerWidth - 150);
                posY = Math.random() * (window.innerHeight - 150);
                attempts++;
            } while (!isPositionValid(posX, posY, containerRect) && attempts < maxAttempts);

            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ–∑–∏—Ü–∏—é –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —ç—Ç–æ —Ñ–æ—Ç–æ
            if (attempts >= maxAttempts) return;

            const photo = document.createElement('img');
            photo.className = 'background-photo';

            // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç
            const rotation = Math.random() * 30 - 15; // -15 –¥–æ +15 –≥—Ä–∞–¥—É—Å–æ–≤

            photo.style.left = `${posX}px`;
            photo.style.top = `${posY}px`;
            photo.style.transform = `rotate(${rotation}deg) scale(0.8)`;

            try {
                photo.src = photos[Math.floor(Math.random() * photos.length)];
                photo.onerror = function() {
                    this.remove();
                };
            } catch(e) {
                console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ:", e);
                return;
            }

            background.appendChild(photo);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ç–æ
            setTimeout(() => {
                photo.classList.add('show');

                // –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã —É–±–∏—Ä–∞–µ–º
                setTimeout(() => {
                    photo.classList.remove('show');

                    // –ß–µ—Ä–µ–∑ 0.5s –∞–Ω–∏–º–∞—Ü–∏–∏ —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç
                    setTimeout(() => {
                        photo.remove();
                    }, 500);
                }, 2000);
            }, 100);
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
        function typeText() {
            const text = `–î–∞—à–∫–∞, –µ—â–µ —Ä–∞–∑ —Ö–æ—á—É –ø–æ–∑–¥—Ä–∞–≤–∏—Ç—å —Ç–µ–±—è —Å —Ç–≤–æ–∏–º –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è!<br>
–Ø –æ—á–µ–Ω—å —Ä–∞–¥, —á—Ç–æ –º—ã —Å —Ç–æ–±–æ–π —Ç–∞–∫ –¥–æ–ª–≥–æ –¥—Ä—É–∂–∏–º –∏ –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.<br>–¢—ã –æ—á–µ–Ω—å –∫–ª–∞—Å—Å–Ω–∞—è, –¥–æ–±—Ä–∞—è, –∞ –≥–ª–∞–≤–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∞—è, —á—Ç–æ —è –æ—á–µ–Ω—å —Ü–µ–Ω—é.<br>
–•–æ—á—É –∏—Å–∫—Ä–µ–Ω–Ω–µ –ø–æ–∂–µ–ª–∞—Ç—å—Å—è —Ç–µ–±–µ:<br>
‚ú® –ß—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–∞—á–∏–Ω–∞–ª—Å—è —Å —É–ª—ã–±–∫–∏<br>
üí´ –ß—Ç–æ–±—ã —Ä—è–¥–æ–º –≤—Å–µ–≥–¥–∞ –±—ã–ª–∏ —Ç–µ, –∫—Ç–æ —Ü–µ–Ω–∏—Ç —Ç–µ–±—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É<br>
üå∫ –ü–æ–±–æ–ª—å—à–µ —è—Ä–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –ø–æ –∂–∏–∑–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–æ–º–Ω—è—Ç—å—Å—è –Ω–∞ –¥–æ–ª–≥–æ<br>
–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, –î–∞—à–∫–∞! üéÇ`;

            const messageElement = document.getElementById('message');
            let i = 0;

            messageElement.style.opacity = '1';
            messageElement.innerHTML = '<span class="typed-cursor">|</span>';

            function typing() {
                if (i < text.length) {
                    messageElement.innerHTML = text.substring(0, i+1) + '<span class="typed-cursor">|</span>';
                    i++;
                    setTimeout(typing, 20 + Math.random() * 30);
                } else {
                    messageElement.innerHTML = text;
                }
            }

            setTimeout(typing, 500);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–∫–∞–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
        function startPhotoShow() {
            showRandomPhoto();
            setInterval(showRandomPhoto, 2000);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            createBalloons();
            typeText();
            startPhotoShow();

            document.addEventListener('touchstart', function() {}, {passive: true});
        };

        window.addEventListener('resize', function() {
            document.getElementById('balloons-container').innerHTML = '';
            createBalloons();
        });
    </script>
</body>
</html>
